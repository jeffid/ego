<!DOCTYPE html>
<html lang="zh-Hans-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>
<body>

<script>
  /*
  * 三个特征
  * 1.是字串
  * 2.用parse()转换不出错
  * 3.字串第一有效字符是“{”
   */
  function isJSON(str) {
    if (typeof str == 'string') {
      try {
        var obj = JSON.parse(str); //不出错才会运行下步
        if (str.trim().indexOf("{") === 0) {
//          console.log('是JSON，并转成对象：', obj);
          return true;
        }
        return false;
      } catch (e) {
        console.log('error：', str, '!!!', e);
        return false;
      }
    }
    console.log(str,'It is not a string!') ;
    return false;
  }
  console.log(isJSON('123')); //数字字串
  console.log(isJSON('aaaa')); //普通字串
  console.log(isJSON('"aaa"'));
  console.log(isJSON('true')); //布尔
  console.log(isJSON('["1","2"]')); //数组
  console.log(isJSON('{name:"123"}')); //对象
  console.log(isJSON('null')); //null
  console.log(isJSON('Undefined')); //Undefined
  console.log(isJSON('{"name":"123"，}')); //不规范的json
  console.log(isJSON('{"name":"123"}')); //JSON类
  console.log(isJSON('{}'));  //空对象,也会被认为是JSON
</script>
</body>
</html>